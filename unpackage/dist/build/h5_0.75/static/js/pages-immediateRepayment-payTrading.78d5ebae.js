(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-immediateRepayment-payTrading"],{"0296":function(t,e,a){"use strict";a.r(e);var i=a("2096"),n=a.n(i);for(var o in i)"default"!==o&&function(t){a.d(e,t,function(){return i[t]})}(o);e["default"]=n.a},1279:function(t,e,a){e=t.exports=a("2350")(!1),e.push([t.i,"uni-scroll-view[data-v-586bb3c8] ::-webkit-scrollbar{width:0;height:0;color:rgba(0,0,0,0)}.pay_trading[data-v-586bb3c8],uni-page-body[data-v-586bb3c8]{position:relative;width:100%;height:100%;background:#fff;overflow:hidden\n/* 信用卡信息 */\n/* 手续费用 */\n/* 到账储蓄卡 */\n/* 验证码输入 */\n/* 落地商户 */\n/* 确定按钮 */}.pay_trading .trading_msg[data-v-586bb3c8],uni-page-body .trading_msg[data-v-586bb3c8]{width:100%;margin-top:%?55?%}.pay_trading .trading_msg .trading_bank[data-v-586bb3c8],uni-page-body .trading_msg .trading_bank[data-v-586bb3c8]{font-size:%?28?%;text-align:center}.pay_trading .trading_msg .trading_num[data-v-586bb3c8],uni-page-body .trading_msg .trading_num[data-v-586bb3c8]{font-size:%?30?%;text-align:center;margin-top:%?25?%;margin-bottom:%?40?%}.pay_trading .trading_msg .trading_money[data-v-586bb3c8],uni-page-body .trading_msg .trading_money[data-v-586bb3c8]{text-align:center;font-size:%?60?%}.pay_trading .service_charge[data-v-586bb3c8],uni-page-body .service_charge[data-v-586bb3c8]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:0 %?70?%;color:#bbbaba;font-size:%?24?%;margin-top:%?25?%}.pay_trading .depsite_card[data-v-586bb3c8],uni-page-body .depsite_card[data-v-586bb3c8]{text-align:center;font-size:%?26?%;margin-top:%?105?%}.pay_trading .code_input_main[data-v-586bb3c8],uni-page-body .code_input_main[data-v-586bb3c8]{position:relative;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;padding:0 %?70?%;margin-top:%?50?%;-webkit-justify-content:space-around;-ms-flex-pack:distribute;justify-content:space-around}.pay_trading .code_input_main .code_input_item[data-v-586bb3c8],uni-page-body .code_input_main .code_input_item[data-v-586bb3c8]{width:%?752?%;height:%?93?%;line-height:%?93?%;opacity:.8;border-bottom:solid #d6d6db %?4?%;font-size:%?26?%;color:#000}.pay_trading .code_input_main .code_input_input[data-v-586bb3c8],uni-page-body .code_input_main .code_input_input[data-v-586bb3c8]{position:absolute;width:100%;height:%?93?%;padding:0 %?70?%;color:rgba(0,0,0,0);left:0}.pay_trading .choose_card_wrapper[data-v-586bb3c8],uni-page-body .choose_card_wrapper[data-v-586bb3c8]{background-color:#fff}.pay_trading .choose_sms_wrapper[data-v-586bb3c8],uni-page-body .choose_sms_wrapper[data-v-586bb3c8]{width:%?550?%;height:%?350?%;border-radius:%?10?%;background-color:#fff;overflow:hidden}.pay_trading .choose_sms_wrapper .sms_title[data-v-586bb3c8],uni-page-body .choose_sms_wrapper .sms_title[data-v-586bb3c8]{text-align:center;font-size:%?36?%;margin:%?40?% 0}.pay_trading .choose_sms_wrapper .validata_inp[data-v-586bb3c8],uni-page-body .choose_sms_wrapper .validata_inp[data-v-586bb3c8]{margin-left:%?40?%;padding-left:%?20?%;width:%?470?%;height:%?80?%;border:1px solid #ccc;border-radius:%?4?%}.pay_trading .choose_sms_wrapper .validata_sure[data-v-586bb3c8],uni-page-body .choose_sms_wrapper .validata_sure[data-v-586bb3c8]{margin-top:%?60?%;letter-spacing:%?8?%;text-align:center;font-size:%?40?%;line-height:%?90?%;color:#fff;background:#617bf8}.pay_trading .choose_card_title[data-v-586bb3c8],uni-page-body .choose_card_title[data-v-586bb3c8]{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;height:%?70?%;font-size:%?30?%;color:#589dfd;border-bottom:%?2?% solid #d9d9d9}.pay_trading .choose_card_content[data-v-586bb3c8],uni-page-body .choose_card_content[data-v-586bb3c8]{height:%?850?%}.pay_trading .choose_card_content .choose_item[data-v-586bb3c8],uni-page-body .choose_card_content .choose_item[data-v-586bb3c8]{text-align:left;line-height:%?70?%;padding:0 %?25?%;font-size:%?26?%;border-bottom:%?2?% solid #d6d6db}.pay_trading .sure_btn[data-v-586bb3c8],uni-page-body .sure_btn[data-v-586bb3c8]{width:%?672?%;margin-top:%?100?%;margin-left:%?40?%;border-radius:%?60?%}.pay_trading .wzj[data-v-586bb3c8],uni-page-body .wzj[data-v-586bb3c8]{background-color:#fff}body.?%PAGE?%[data-v-586bb3c8]{background:#fff;background-color:#fff;background-color:#fff;background:#617bf8;background-color:#fff}",""])},2096:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i=r(a("a34a")),n=r(a("792f")),o=r(a("9c26"));function r(t){return t&&t.__esModule?t:{default:t}}function d(t,e,a,i,n,o,r){try{var d=t[o](r),s=d.value}catch(c){return void a(c)}d.done?e(s):Promise.resolve(s).then(i,n)}function s(t){return function(){var e=this,a=arguments;return new Promise(function(i,n){var o=t.apply(e,a);function r(t){d(o,i,n,r,s,"next",t)}function s(t){d(o,i,n,r,s,"throw",t)}r(void 0)})}}var c={components:{mpvuePicker:n.default,uniPopup:o.default},data:function(){return{type:"",mulLinkageTwoPicker:[],cityPickerValueDefault:[0,0,1],themeColor:"#007AFF",pickerText:"",mode:"",deepLength:1,pickerValueDefault:[0],pickerValueArray:[],code:"",dataMap:{},proId:"",userPhoneInfo:{},validateCode:"",ticketCode:"",amount:"",paycardNo:"",paycardNoName:"",rePayCardNo:"",rePayCardNoName:"",paymentId:"",serviceCharge:0,arrivalAccount:0,province:"",city:"",merList:[],merchantUid:""}},methods:{getPaySms:function(){var t=s(i.default.mark(function t(){var e;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.validateCode.trim()){t.next=3;break}return uni.showToast({title:"短信验证码不能为空",icon:"none",duration:2e3}),t.abrupt("return");case 3:return uni.showLoading({title:"加载中"}),t.next=6,this.$api.paySms({proType:"repayment",proId:this.proId,validateCode:this.validateCode,ticketCode:this.ticketCode,paymentId:this.paymentId},this.userPhoneInfo);case 6:e=t.sent,"SUCCESS"==e.data.respCode&&e.data.dataMap?(uni.hideLoading(),uni.redirectTo({url:"/pages/paySucc/paySucc"})):(uni.hideLoading(),uni.showToast({title:e.data.respMsg,icon:"none",duration:4e3}));case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getMerchantCity:function(){var t=s(i.default.mark(function t(){var e;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({title:"加载中"}),t.next=3,this.$api.merchantCity({proType:"repayment",proId:this.proId},this.userPhoneInfo);case 3:e=t.sent,"SUCCESS"==e.data.respCode&&e.data.dataMap?(console.log(e),uni.hideLoading(),this.mulLinkageTwoPicker=e.data.dataMap.provinceList):(uni.hideLoading(),uni.showToast({title:e.data.respMsg,icon:"none",duration:4e3}));case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getLandingMerchant:function(){var t=s(i.default.mark(function t(){var e;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return uni.showLoading({title:"加载中"}),t.next=3,this.$api.landingMerchant({proType:"repayment",proId:this.proId,province:this.province,city:this.city},this.userPhoneInfo);case 3:e=t.sent,"SUCCESS"==e.data.respCode&&e.data.dataMap&&(uni.hideLoading(),console.log(e),this.merList=e.data.dataMap.merList,this.togglePopup("bottom"));case 5:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getPayCommit:function(){var t=s(i.default.mark(function t(){var e;return i.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(""!=this.merchantUid){t.next=3;break}return uni.showToast({title:"请选择落地商户!",icon:"none"}),t.abrupt("return");case 3:return uni.showLoading({title:"加载中"}),t.next=6,this.$api.payCommit({proType:"repayment",proId:this.proId,paymentId:this.paymentId,merchantUid:this.merchantUid},this.userPhoneInfo);case 6:e=t.sent,"SUCCESS"==e.data.respCode&&e.data.dataMap?(console.log(e),uni.hideLoading(),"1"==e.data.dataMap.isSms?(this.togglePopup("smsValidation"),this.ticketCode=e.data.dataMap.ticketCode):"0"==e.data.dataMap.isSms?uni.redirectTo({url:"/pages/paySucc/paySucc"}):uni.showToast({title:e.data.respMsg,icon:"none",duration:4e3})):(uni.hideLoading(),uni.showToast({title:e.data.respMsg,icon:"none",duration:4e3}));case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),togglePopup:function(t){this.type=t},onCancel:function(t){console.log(t)},showMulLinkageTwoPicker:function(){this.pickerValueArray=this.mulLinkageTwoPicker,this.mode="multiLinkageSelector",this.deepLength=2,this.pickerValueDefault=[0,0],uni.hideKeyboard(),this.$refs.mpvuePicker.show()},onConfirm:function(t){this.pickerText=t.province,this.province=this.pickerText.split("-")[0],this.city=this.pickerText.split("-")[1],this.getLandingMerchant()},chooseMer:function(t,e){this.code=t,this.merchantUid=e,this.togglePopup("")}},onLoad:function(t){document.title="立即还款",this.userPhoneInfo=uni.getStorageSync("userPhoneInfo"),this.dataMap=JSON.parse(t.dataMap),console.log(this.dataMap),this.amount=this.dataMap.amount,this.paycardNo=this.dataMap.paycardNo,this.paycardNoName=this.dataMap.paycardNoName,this.rePayCardNo=this.dataMap.rePayCardNo,this.rePayCardNoName=this.dataMap.rePayCardNoName,this.serviceCharge=this.dataMap.serviceCharge,this.arrivalAccount=this.dataMap.arrivalAccount,this.paymentId=this.dataMap.paymentId,this.proId=this.dataMap.proId,this.getMerchantCity()},onBackPress:function(){if(this.$refs.mpvuePicker.showPicker)return this.$refs.mpvuePicker.pickerCancel(),!0},onUnload:function(){this.$refs.mpvuePicker.showPicker&&this.$refs.mpvuePicker.pickerCancel()}};e.default=c},"2c90":function(t,e,a){var i=a("1279");"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=a("4f06").default;n("1398daf6",i,!0,{sourceMap:!1,shadowMode:!1})},"323b":function(t,e,a){"use strict";a.r(e);var i=a("c357"),n=a("0296");for(var o in n)"default"!==o&&function(t){a.d(e,t,function(){return n[t]})}(o);a("e1a8");var r=a("2877"),d=Object(r["a"])(n["default"],i["a"],i["b"],!1,null,"586bb3c8",null);e["default"]=d.exports},c357:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"pay_trading"},[a("v-uni-view",{staticClass:"trading_msg"},[a("v-uni-view",{staticClass:"trading_bank"},[t._v(t._s(t.paycardNoName)+"(信用卡)")]),a("v-uni-view",{staticClass:"trading_num"},[t._v(t._s(t.paycardNo.replace(/^(\d{4})\d+(\d{4})$/,"$1****$2")))]),a("v-uni-view",{staticClass:"trading_money"},[t._v("¥"+t._s(t.amount))])],1),a("v-uni-view",{staticClass:"service_charge"},[a("v-uni-view",[t._v("手续费  "+t._s(t.serviceCharge.toString().match(/^\d+(?:\.\d{0,2})?/)[0])+"元")]),a("v-uni-view",[t._v("实际到账  "+t._s(t.arrivalAccount.toString().match(/^\d+(?:\.\d{0,2})?/)[0])+"元")])],1),a("v-uni-view",{staticClass:"code_input_main"},[a("v-uni-view",{staticClass:"code_input_item"},[t._v(t._s(t.code))]),a("v-uni-input",{staticClass:"code_input_input",attrs:{disabled:"",placeholder:"请输入落地商户","placeholder-style":"color:#589DFD;"},on:{click:function(e){e=t.$handleEvent(e),t.showMulLinkageTwoPicker(e)}},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),a("v-uni-view",{staticClass:"depsite_card"},[t._v("到账储蓄银行：  "+t._s(t.paycardNoName)+"("+t._s(t.paycardNo.substr(t.paycardNo.length-4))+")")]),a("v-uni-button",{staticClass:"sure_btn",attrs:{type:"primary"},on:{click:function(e){e=t.$handleEvent(e),t.getPayCommit(e)}}},[t._v("确认提交")]),a("mpvue-picker",{ref:"mpvuePicker",attrs:{themeColor:t.themeColor,mode:t.mode,deepLength:t.deepLength,pickerValueDefault:t.pickerValueDefault,pickerValueArray:t.pickerValueArray},on:{onConfirm:function(e){e=t.$handleEvent(e),t.onConfirm(e)},onCancel:function(e){e=t.$handleEvent(e),t.onCancel(e)}}}),a("uni-popup",{attrs:{show:"bottom"===t.type,position:"bottom",mode:"fixed"},on:{hidePopup:function(e){e=t.$handleEvent(e),t.togglePopup("")}}},[a("v-uni-view",{staticClass:"choose_card_wrapper"},[a("v-uni-view",{staticClass:"choose_card_title"},[t._v("选择商户")]),a("v-uni-scroll-view",{staticClass:"choose_card_content",attrs:{"scroll-y":"true"}},t._l(t.merList,function(e){return a("v-uni-view",{key:e.id,staticClass:"choose_item",on:{click:function(a){a=t.$handleEvent(a),t.chooseMer(e.merchant_name,e.id)}}},[t._v(t._s(e.merchant_name))])}),1)],1)],1),a("uni-popup",{attrs:{show:"smsValidation"===t.type,position:"middle",mode:"fixed"},on:{hidePopup:function(e){e=t.$handleEvent(e),t.togglePopup("")}}},[a("v-uni-view",{staticClass:"choose_sms_wrapper"},[a("v-uni-view",{staticClass:"sms_title"},[t._v("请填写短信验证码")]),a("v-uni-input",{staticClass:"validata_inp",attrs:{type:"number",maxlength:"6",placeholder:"请输入短信验证码 "},model:{value:t.validateCode,callback:function(e){t.validateCode=e},expression:"validateCode"}}),a("v-uni-view",{staticClass:"validata_sure",on:{click:function(e){e=t.$handleEvent(e),t.getPaySms(e)}}},[t._v("确定")])],1)],1)],1)},n=[];a.d(e,"a",function(){return i}),a.d(e,"b",function(){return n})},e1a8:function(t,e,a){"use strict";var i=a("2c90"),n=a.n(i);n.a}}]);